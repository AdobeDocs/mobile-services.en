---
description: If your app opens mobile web content, you need to ensure that visitors are not identified separately as they move between the native and mobile web.
seo-description: If your app opens mobile web content, you need to ensure that visitors are not identified separately as they move between the native and mobile web.
seo-title: Visitor Tracking Between an App and Mobile Web
solution: Marketing Cloud,Analytics
title: Visitor Tracking Between an App and Mobile Web
topic: Developer and implementation
uuid: 8ece271b-24f7-45c3-be22-82b7f06373c4
index: y
internal: n
snippet: y
translate: y
---

# Visitor Tracking Between an App and Mobile Web

**Visitor IDs in Apps** 

The iOS SDK generates a unique visitor ID when an app is installed. This ID is stored in persistent memory on the mobile device and is sent with every hit. This ID is removed only when the user uninstalls the app 


>[!TIP]
>
>App visitor IDs persist through upgrades.



**Visitor IDs in the Mobile Web** 

Typical mobile web implementations use the same standard Analytics ` s_code.js` or ` AppMeasurement.js` that is used within desktop sites. The JavaScript libraries have their own methods of generating unique visitor IDs, which causes a different visitor ID to be generated when you open mobile web content from your app. 

To use the same visitor ID in the app and mobile web, complete the following instructions to pass the app visitor ID to the mobile web in the URL. 

## Implementing Visitor Tracking Between an App and Mobile Web {#section_EDC91D6C67AD43999227707C2769C65D}


1. Add the [ library to your project and implement lifecycle ](../getting_started/dev_qs.md#concept_13176B6E37F547D6935E37125F457972).
1. To append visitor information to the URL that is being used to open the web view, call ` visitorAppendToURL`: 
   ```
   NSURL *url = [NSURL URLWithString:@‚Äùhttp://www.mydomain.com/index.php"]; 
   NSURL *urlWithVisitorData = [ADBMobile visitorAppendToURL:url]; 
   [[UIApplication sharedApplication] openURL:urlWithVisitorData];
   ```
   Alternatively, starting with SDK version 4.16.0, you can call ` visitorGetUrlVariablesAsync:` and generate your own URL: 


   ```
   NSString *urlString = @"http://www.mydomain.com/index.php"; 
   [ADBMobile visitorGetUrlVariablesAsync:^(NSString * _Nullable urlVariables) { 
       NSString *urlStringWithVisitorData = [NSString stringWithFormat:@"%@?%@", urlString, urlVariables]; 
       NSURL *urlWithVisitorData = [NSURL URLWithString:urlStringWithVisitorData]; 
       [[UIApplication sharedApplication] openURL:urlWithVisitorData options:@{} completionHandler:^(BOOL success) { 
           // handle openURL success 
       }]; 
   }];
   ```




The ID service code on the destination domain extracts the MID from the URL instead of sending a request to Adobe for a new ID. The ID service code on the destination page uses the passed-in MID to track the visitor. 

On hits from the mobile web content, verify that the ` mid` parameter is present on each hit, and that this value matches the ` mid` that is being sent by the app code. 

## Troubleshooting Visitor Tracking {#section_C070AE85E3CE4E9893FD4F40E73F2C92}



<table id="table_49CAA00C9E594111B689F0B0C9350960"> 
 <thead> 
  <tr> 
   <th colname="col1" class="entry"> Question </th> 
   <th colname="col2" class="entry"> Answer </th> 
  </tr> 
 </thead>
 <tbody> 
  <tr> 
   <td colname="col1"> <p>I do not see <span class="codeph"> [ADBMobile visitorAppendToURL:] </span>. </p> </td> 
   <td colname="col2"> <p> Verify that the Adobe SDK that is bundled in the parent application is version 4.12.0 or higher. </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>I do not see Adobe IDs in my URL. </p> </td> 
   <td colname="col2"> <p>Verify the following: 
     <ul id="ul_B397D23DA8CA4592AD00D4B8AFBDB038"> 
      <li id="li_76954F2EDDDF48B5A4F0FB1DDEE664B8"> The URL string that is being used to open the web view was generated by <span class="codeph"> [ADBMobile visitorAppendToURL:] </span>. </li> 
      <li id="li_96DA8574493A4ECAB1B36056C17E54D7">The Adobe IDs are encoded. <p>To verify IDs are appended to the URL that is being opened, look for the <span class="codeph"> adobe_mc </span> query parameter. </p> </li> 
     </ul> </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>My 'mid' is not identical in my app to my web view. </p> </td> 
   <td colname="col2"> <p>Verify the following: 
     <ul id="ul_4598A23DDA574D1A8ACCDB5F2777229B"> 
      <li id="li_C2F7217516AB45CC9B881940C4AF0D0A"> The URL string that is being used to open the web view was generated by <span class="codeph"> [ADBMobile visitorAppendToURL:] </span>. </li> 
      <li id="li_499B4B24E5F14B988D88222790BE59A1">The URL string contains Adobe parameters. <p>The string should contain <span class="codeph"> adobe_mc="SAMPLE_ID_DATA" </span> where <span class="codeph"> "SAMPLE_ID_DATA" </span> contains the IDs that are generated in the Adobe Mobile SDK. </p> </li> 
      <li id="li_DCED5FE73F304205A01A76070BA61569">The <span class="codeph"> VisitorAPI.js </span> is version 1.7.0 or higher. </li> 
     </ul> </p> </td> 
  </tr> 
 </tbody> 
</table>

If these troubleshooting steps do not resolve your issues, contact Adobe Client Care; be prepared to share a sample application and the associated site so that Adobe can validate the implementation. 
