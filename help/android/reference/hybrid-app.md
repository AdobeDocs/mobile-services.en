---
description: If your app opens mobile web content, ensure that visitors are not identified separately as they move between the native and mobile web.
seo-description: If your app opens mobile web content, ensure that visitors are not identified separately as they move between the native and mobile web.
seo-title: Visitor Tracking Between an App and Mobile Web
solution: Marketing Cloud,Analytics
title: Visitor Tracking Between an App and Mobile Web
topic: Developer and implementation
uuid: 073572e4-4c55-4b27-b4a7-e4349ccde7bf
---

# Visitor Tracking Between an App and Mobile Web{#visitor-tracking-between-an-app-and-mobile-web}

If your app opens mobile web content, ensure that visitors are not identified separately as they move between the native and mobile web.

 **Visitor IDs in Apps**

The Android SDK generates a unique visitor ID when an app is installed. This ID is stored in persistent memory on the mobile device, is sent with every hit, and is removed only when the user uninstalls the app. 

>[!TIP]
>
>App visitor IDs persist through upgrades.

**Visitor IDs in the Mobile Web**

Typical mobile web implementations use the same standard Analytics `s_code.js` or `AppMeasurement.js` that is used in desktop sites. The JavaScript libraries have their own methods of generating unique visitor IDs, which causes a different visitor ID to be generated when you open mobile web content from your app.

## Implementing Visitor Tracking Between an App and the Mobile Web {#section_1755BCCFD42D456EB2319141030FDDFF}

To use the same visitor ID in the app and mobile web:

1. Add the [library to your project and implement lifecycle](../getting-started/dev-qs.md#concept_13176B6E37F547D6935E37125F457972). 
1. To append visitor information to the URL that is being used to open the web view, call `visitorAppendToURL`:

   ```java
   String urlString = "https://www.mydomain.com/index.php"; 
   String urlStringWithVisitorData = Visitor.appendToURL(urlString); 
   Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(urlStringWithVisitorData)); 
   startActivity(browserIntent);
   ```

   Alternatively, starting with SDK version 4.16.0, you can call `Visitor.getUrlVariablesAsync` and generate your own URL:

   ```java
   final String urlString = "https://www.mydomain.com/index.php"; 
   Visitor.getUrlVariablesAsync(new Visitor.VisitorCallback(){ 
       @Override 
       public void call(String urlVariables) { 
           final String urlStringWithVisitorData = String.format("%s?%s", urlString, urlVariables); 
           final Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(urlStringWithVisitorData)); 
           startActivity(browserIntent); 
       } 
   });
   ```

The ID service code on the destination domain extracts the MID from the URL instead of sending a request to Adobe for a new ID. The code uses the passed in MID to track the visitor.

On hits from the mobile web content, verify that the `mid` parameter exists on each hit, and that this value matches the `mid` parameter that is sent by the app code.

## Troubleshooting Visitor Tracking {#section_9B641F8569E34A089C52AA28EA4C891D}

<table id="table_49CAA00C9E594111B689F0B0C9350960"> 
 <thead> 
  <tr> 
   <th colname="col1" class="entry"> Issue </th> 
   <th colname="col2" class="entry"> Answer </th> 
  </tr> 
 </thead>
 <tbody> 
  <tr> 
   <td colname="col1"> <p>I do not see <span class="codeph"> Visitor.appendToURL </span>. </p> </td> 
   <td colname="col2"> <p> Verify that the Adobe SDK that is bundled in the parent application is version 4.12.0 or higher. </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>I do not see Adobe IDs in my URL. </p> </td> 
   <td colname="col2"> <p> Verify the following: 
     <ul id="ul_AED9EEA8870044CB94DC02187A8F2FE3"> 
      <li id="li_4BF02EF85AEF4D01BC31630B289CEF11"> The URL string that is used to open the web view was generated by <span class="codeph"> Visitor.appendToURL(urlString) </span>. </li> 
      <li id="li_02405034BCF14B55B9F1134B5B515222"> The Adobe IDs are encoded. <p>To ensure that the IDs that are appended to the URL that is being opened, verify that the&nbsp; <span class="codeph"> adobe_mc </span>&nbsp;query parameter appears in the URL. </p> </li> 
     </ul> </p> </td> 
  </tr> 
  <tr> 
   <td colname="col1"> <p>My <span class="codeph"> mid </span> is not identical in my app to my web view. </p> </td> 
   <td colname="col2"> <p> Verify the following: 
     <ul id="ul_4ED3CA3DC4B64ED195CE1DD82C77C096"> 
      <li id="li_7C4B6DD460A841BF82D3F6EBA15034E9"> The URL string that is being used to open the web view was generated by <span class="codeph"> Visitor.appendToURL(urlString) </span>. </li> 
      <li id="li_499B4B24E5F14B988D88222790BE59A1"> The URL string contains Adobe parameters. <p>The string should contain <span class="codeph"> adobe_mc="SAMPLE_ID_DATA" </span> where <span class="codeph"> "SAMPLE_ID_DATA" </span> contains the IDs that are generated in the Adobe Mobile SDK. </p> </li> 
      <li id="li_DCED5FE73F304205A01A76070BA61569">The <span class="codeph"> VisitorAPI.js </span> is version 1.7.0 or higher. </li> 
     </ul> </p> </td> 
  </tr> 
 </tbody> 
</table>

If these troubleshooting steps do not resolve your issues, contact Adobe Experience Care.

>[!IMPORTANT]
>
>To allow Adobe can validate the implementation, you need to share a sample application and the associated site.

